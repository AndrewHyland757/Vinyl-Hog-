{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'styles/checkout_success.css' %}">
    <link rel="stylesheet" href="{% static 'styles/checkout.css' %}">
{% endblock %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}

<div class="head-container-center">
    <h1 class="head-heading">Thank You</h1>
    <p class="head-text">
        Your order information is below.<br> A confirmation email was sent to <strong>{{ order.email }}.
    </p>
</div>

    
    <div class="success-container">


                <div class="row-container">

                        <p class="text-muted sub-heading mt-0">Order Info:</p>

                        <div class="success-row ">
                            <p class="success-key">Order Number</p>
                            <p class="success-value">{{ order.order_number }}</p>
                        </div>

                        <div class="success-row ">
                            <p class="success-key">Order Date</p>
                            <p class="success-value">{{ order.date }}</p>
                        </div>
                        
                        
                        
                    

                        <p class="text-muted sub-heading">Delivering To:</p>

                        <div class="success-row ">
                            <p class="success-key">Full Name</p>
                            <p class="success-value">{{ order.full_name }}</p>
                        </div>

                        <div class="success-row ">
                            <p class="success-key">Address 1</p>
                            <p class="success-value">{{ order.street_address1 }}</p>
                        </div>
                        
                        {% if order.street_address2 %}
                        <div class="success-row ">
                            <p class="success-key">Address 2</p>
                            <p class="success-value">{{ order.street_address2 }}</p>
                        </div>
                        {% endif %}

                        {% if order.country %}
                        <div class="success-row ">
                            <p class="success-key">Country</p>
                            <p class="success-value">{{ order.county }}</p>
                        </div>
                        {% endif %}


                        <div class="success-row ">
                            <p class="success-key">Town/City</p>
                            <p class="success-value">{{ order.town_or_city }}</p>
                        </div>


                        <div class="success-row ">
                            <p class="success-key">Postal Code</p>
                            <p class="success-value">{{ order.postcode }}</p>
                        </div>

                        <div class="success-row ">
                            <p class="success-key">Telephone</p>
                            <p class="success-value">{{ order.phone_number }}</p>
                        </div>

                        <p class="text-muted sub-heading">Billing Info:</p>

                        <div class="success-row ">
                            <p class="success-key">Subtotal</p>
                            <p class="success-value">€{{ order.order_total }}</p>
                        </div>

                        <div class="success-row ">
                            <p class="success-key">Delivery</p>
                            <p class="success-value">€{{ order.delivery_cost }}</p>
                        </div>

                        <div class="success-row ">
                            <p class="success-key">Total</p>
                            <p class="success-value">€{{ order.grand_total }}</p>
                        </div>

                        <p class="text-muted sub-heading mb-0">Order Items:</p>

                        
                            
                        {% for item in order.lineitems.all %}
                        

                        <div class="checkout-item checkout-item--success">
                          <div class="checkout-img-contatiner">
                            <a href="{% url 'product' item.product.id %}">
                              <img
                                class="checkout-img"
                                src="{{ item.product.featured_image.url }}"
                                alt=""
                              />
                            </a>
                          </div>
                    
                          <div class="item-details-contatiner">
                            <div class="item-title-box">
                              <p class="item-title">{{ item.product.title }}</p>
                            </div>
                            <p class="item-detail">Artist: {{ item.product.artist }}</p>
                            <p class="item-detail">Condition: {{ item.product.condition }}</p>
                            <p class="item-detail">Quantity: {{ item.quantity }}</p>
                          </div>
                        </div>
                       
                        {% endfor %}
                       

                </div>

    </div>

    {% endblock %}